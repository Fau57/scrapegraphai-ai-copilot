[
    {
        "prompt": "how is script_creator_multi_graph implemented in Scrapegraphai?",
        "answer": "\"\"\" \nScriptCreatorMultiGraph Module\n\"\"\"\n\nfrom copy import copy, deepcopy\nfrom typing import List, Optional\n\nfrom pydantic import BaseModel\n\nfrom .base_graph import BaseGraph\nfrom .abstract_graph import AbstractGraph\nfrom .script_creator_graph import ScriptCreatorGraph\n\nfrom ..nodes import (\n    GraphIteratorNode,\n    MergeGeneratedScriptsNode\n)\n\n\nclass ScriptCreatorMultiGraph(AbstractGraph):\n    \"\"\" \n    ScriptCreatorMultiGraph is a scraping pipeline that scrapes a list of URLs generating web scraping scripts.\n    It only requires a user prompt and a list of URLs.\n    Attributes:\n        prompt (str): The user prompt to search the internet.\n        llm_model (dict): The configuration for the language model.\n        embedder_model (dict): The configuration for the embedder model.\n        headless (bool): A flag to run the browser in headless mode.\n        verbose (bool): A flag to display the execution information.\n        model_token (int): The token limit for the language model.\n    Args:\n        prompt (str): The user prompt to search the internet.\n        source (List[str]): The source of the graph.\n        config (dict): Configuration parameters for the graph.\n        schema (Optional[BaseModel]): The schema for the graph output.\n    Example:\n        >>> script_graph = ScriptCreatorMultiGraph(\n        ...     \"What is Chioggia famous for?\",\n        ...     source=[],\n        ...     config={\"llm\": {\"model\": \"gpt-3.5-turbo\"}}\n        ...     schema={}\n        ... )\n        >>> result = script_graph.run()\n    \"\"\"\n\n    def __init__(self, prompt: str, source: List[str], config: dict, schema: Optional[BaseModel] = None):\n\n        self.max_results = config.get(\"max_results\", 3)\n\n        if all(isinstance(value, str) for value in config.values()):\n            self.copy_config = copy(config)\n        else:\n            self.copy_config = deepcopy(config)\n\n        super().__init__(prompt, config, source, schema)\n\n    def _create_graph(self) -> BaseGraph:\n        \"\"\"\n        Creates the graph of nodes representing the workflow for web scraping and searching.\n        Returns:\n            BaseGraph: A graph instance representing the web scraping and searching workflow.\n        \"\"\"\n\n        # ************************************************\n        # Create a ScriptCreatorGraph instance\n        # ************************************************\n\n        script_generator_instance = ScriptCreatorGraph(\n            prompt=\"\",\n            source=\"\",\n            config=self.copy_config,\n            schema=self.schema\n        )\n\n        # ************************************************\n        # Define the graph nodes\n        # ************************************************\n\n        graph_iterator_node = GraphIteratorNode(\n            input=\"user_prompt & urls\",\n            output=[\"scripts\"],\n            node_config={\n                \"graph_instance\": script_generator_instance,\n            }\n        )\n\n        merge_scripts_node = MergeGeneratedScriptsNode(\n            input=\"user_prompt & scripts\",\n            output=[\"merged_script\"],\n            node_config={\n                \"llm_model\": self.llm_model,\n                \"schema\": self.schema\n            }\n        )\n\n        return BaseGraph(\n            nodes=[\n                graph_iterator_node,\n                merge_scripts_node,\n            ],\n            edges=[\n                (graph_iterator_node, merge_scripts_node),\n            ],\n            entry_point=graph_iterator_node,\n            graph_name=self.__class__.__name__\n        )\n\n    def run(self) -> str:\n        \"\"\"\n        Executes the web scraping and searching process.\n        Returns:\n            str: The answer to the prompt.\n        \"\"\"\n        inputs = {\"user_prompt\": self.prompt, \"urls\": self.source}\n        self.final_state, self.execution_info = self.graph.execute(inputs)\n        return self.final_state.get(\"merged_script\", \"Failed to generate the script.\")"
    }
]